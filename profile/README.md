# MCG: Configuration Generator (MCG) [![Sponsor](https://img.shields.io/badge/Sponsor-db61a2)](https://xi-xu.me/#sponsorships)

[![MCG](https://img.shields.io/badge/MCG%3A_Configuration_Generator-MCG-000000)](https://github.com/Project-MCG)

[![Followers](https://img.shields.io/github/followers/Project-MCG?style=flat-square)](https://github.com/orgs/Project-MCG/followers) [![Stars](https://img.shields.io/github/stars/Project-MCG/MCG?style=flat-square)](https://github.com/Project-MCG/MCG/stargazers) [![Forks](https://img.shields.io/github/forks/Project-MCG/MCG?style=flat-square)](https://github.com/Project-MCG/MCG/forks) [![Watchers](https://img.shields.io/github/watchers/Project-MCG/MCG?style=flat-square)](https://github.com/Project-MCG/MCG/watchers)

[![license](https://img.shields.io/github/license/project-mcg/mcg)](https://github.com/Project-MCG/MCG/blob/main/LICENSE) [![commit activity](https://img.shields.io/github/commit-activity/w/Project-MCG/MCG/script)](https://github.com/Project-MCG/MCG/commits/script) [![build](https://img.shields.io/github/actions/workflow/status/Project-MCG/MCG/check.yml)](https://github.com/Project-MCG/MCG/actions/workflows/check.yml)

## Overview

***M***CG is a JavaScript-based project that simplifies and optimizes the configuration of the ***M***ulti-function network tool â€” a cross-platform, rule-based utility for managing network and application traffic. It provides extensive support for advanced features and custom configurations.

## Key Features

- **Customizable Icon Set**: Import an icon set from a CDN to visually represent services and locations.
- **Flexible Service Configuration**: Easily add, remove, or modify services, including custom names and icons.
- **Location Filters**: Use country-specific filters and custom icons for detailed location configuration.
- **Advanced DNS Management**:
  - Supports Chinese and international nameservers.
  - Configurable DNS settings including fake IP, filtering, and custom policies.
- **Proxy Group Management**:
  - Various proxy group types (e.g., Auto, Fallback, Load Balancing).
  - Automatic grouping for services and locations.
- **Intelligent Routing Rules**:
  - Rule-based routing for diverse services and applications.
  - Integration with popular rule providers.
- **Seamless Rule Provider Integration**: Set up and maintain rule providers automatically with regular updates.
- **Extensible Architecture**: Add new services, locations, or modify existing configurations easily.
- **Performance Optimization**: Includes lazy loading, configurable health checks, and optimized rule updates.
- **Customizable TUN Mode**: Configure TUN mode for improved compatibility and performance.
- **Privacy and Ad-Blocking**: Integrated rules for blocking ads and trackers.
- **Automatic Updates**: Enable auto-updates for GeoIP and GeoSite data.
- **Compatibility**: Supports the ***M***ulti-functional network tool clients, enhancing normal configurations.

## Demo

***A demo that use MCG to generate a configuration for the ***M***ulti-function network tool is available at ðŸ‘‰ [https://github.com/user-attachments/assets/20f69597-f637-4198-86c9-b11a1a520ed3](https://github.com/user-attachments/assets/20f69597-f637-4198-86c9-b11a1a520ed3) ðŸ‘ˆ.***

## Quick Start

Choose one of the following URLs to import the MCG script:

| Source | URL |
| ------------------------- | --- |
| **GitHub Raw** | [https://raw.githubusercontent.com/Project-MCG/MCG/refs/heads/script/MCG.js](https://raw.githubusercontent.com/Project-MCG/MCG/refs/heads/script/MCG.js) |
| **Xi Xu's Proxy Everything** | [https://proxy.xi-xu.me/?url=https%3A%2F%2Fraw.githubusercontent.com%2FProject-MCG%2FMCG%2Frefs%2Fheads%2Fscript%2FMCG.js](https://proxy.xi-xu.me/?url=https%3A%2F%2Fraw.githubusercontent.com%2FProject-MCG%2FMCG%2Frefs%2Fheads%2Fscript%2FMCG.js) |
| **Mirror of Xi Xu's Proxy Everything** | [https://proxy.xixu.cloudns.ch/?url=https%3A%2F%2Fraw.githubusercontent.com%2FProject-MCG%2FMCG%2Frefs%2Fheads%2Fscript%2FMCG.js](https://proxy.xixu.cloudns.ch/?url=https%3A%2F%2Fraw.githubusercontent.com%2FProject-MCG%2FMCG%2Frefs%2Fheads%2Fscript%2FMCG.js) |
| **jsDelivr** | [https://cdn.jsdelivr.net/gh/Project-MCG/MCG@script/MCG.js](https://cdn.jsdelivr.net/gh/Project-MCG/MCG@script/MCG.js) |
| **jsDelivr on Cloudflare** | [https://testingcf.jsdelivr.net/gh/Project-MCG/MCG@script/MCG.js](https://testingcf.jsdelivr.net/gh/Project-MCG/MCG@script/MCG.js) |
| **GitHub Proxy** | [https://ghp.ci/https://raw.githubusercontent.com/Project-MCG/MCG/refs/heads/script/MCG.js](https://ghp.ci/https://raw.githubusercontent.com/Project-MCG/MCG/refs/heads/script/MCG.js) |

## Usage Guide

Follow these steps to use MCG:

### 1. Prepare Base Configuration

Start with a valid ***M***ulti-function network tool configuration file containing at least one proxy or proxy provider, typically generated by importing a subscription URL into your client.

### 2. Import MCG Script

- **For M.P.**:
  1. Go to "Override" in the sidebar.
  2. Import the MCG script via one of the accessible URLs above.
  3. Click the three dots on the script's card, click "Edit File", edit and save the script, if needed.
  
- **For Other Clients (e.g., C.V.)**:
  1. Navigate to the "Profiles" page.
  2. Visit one of the above URLs, select all, and copy to get the current MCG script content.
  3. Add MCG script content to the editor opened by double-clicking the "Global Extend Script" card.
  4. Edit before saving if needed.

### 3. Apply and Update Configuration

- For M.P., click the three dots on the script's card, click "Edit Info", turn on the "Globally Enabled" option, and save.
- For other clients, click "Reactivate Profiles" or similar buttons.

### 4. Verify the Configuration

Check the client's "Execution Log" or "Script Console" to ensure that the MCG script executed successfully to generate the new configuration:

- If your base configuration is correct, it will output the number of identified proxies and proxy providers, and the generated configuration in JSON format.
- If there are errors, refer to the URL in the output and correct your base configuration accordingly.

For detailed documentation, refer to the official client documentation.

## Customization Guide

MCG is highly customizable. Below are some key areas you can modify:

### 1. **Icon Set URL**

Change the `ICON_SET_URL` constant to use a different icon set.

### 2. **Services**

Modify the `services` array to add or remove services:

- `name`: Service name.
- `alias`: Must be set to the rule set file name when the rule set file name is inconsistent with the name.
- `icon`: URL of the service icon.

### 3. **Locations**

Customize the `locations` array to define geographical locations:

- `name`: Location name.
- `filter`: Regex pattern for matching.
- `icon`: URL of the location icon.

### 4. **General Configuration**

Adjust `generalConfig` settings like:

- `allow-lan`: Set to `true` for LAN access.
- `log-level`: Set logging level (`silent`, `error`, `warning`, `info`, `debug`).
- `ipv6`: Enable/disable IPv6 support.

### 5. **DNS**

Modify the `dns` object to change nameservers and DNS policies.

### 6. **Hosts**

Add custom hosts in the `hosts` object.

### 7. **Domain Sniffing**

Enable and configure domain sniffing in the `sniffing` object.

### 8. **TUN**

Customize TUN settings in the `tun` object.

### 9. **Proxy Groups (be cautious)**

Customize the `proxyGroups` array for proxy policy you want to use.

### 10. **Routing Rules (be cautious)**

Customize the `rules` array for traffic management.

### 11. **Rule Providers (be cautious)**

Add custom rule providers in the `ruleProviders` object.

For detailed documentation, refer to the official ***M***ulti-function network tool documentation.

## Requirements

- A valid configuration file with at least one proxy or proxy provider defined.
- A compatible client that supports JavaScript overrides.

## Disclaimer

1. This project is strictly for educational and research purposes.
2. Use at your own risk. The project assumes no responsibility for potential issues.
3. No guarantee of accuracy, completeness, or reliability.
4. Not liable for data loss or damages.
5. Ensure compliance with relevant licenses and legal regulations.
6. No endorsement of third-party hardware/software.
7. User modifications are their own responsibility.
8. Terms may change at any time. By using this content, you agree to these terms.

## License

Copyright &copy; 2024 Project MCG. All rights reserved.

Licensed under the [GPL-3.0](https://github.com/Project-MCG/MCG/blob/main/LICENSE) license.  
